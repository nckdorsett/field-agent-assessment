<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Form</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
          integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <a class="navbar-brand" href="/">Field Agent Api</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarColor02" aria-controls="navbarColor02" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarColor02">
            <ul class="navbar-nav mr-auto">
                <li class="nav-item active">
                    <a class="nav-link" href="/agent">Agents
                        <span class="sr-only">(current)</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/agencies">Agencies</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/missions">Missions</a>
                </li>
            </ul>
        </div>
    </nav>

    <form method="POST" th:object="${agent}">

        <h2 th:if="*{agentId <= 0}">Add an Agent</h2>
        <h2 th:if="*{agentId > 0}">Edit an Agent</h2>

        <input type="hidden" th:field="*{agentId}">
        <div class="row">
            <div class="col">
                <div class="form-group">
                    <label For="firstName">First Name</label>
                    <input type="text" id="firstName" th:field="*{firstName}">
                </div>
                <div class="form-group">
                    <label For="middleName">Middle Name</label>
                    <input type="text" id="middleName" th:field="*{middleName}">
                </div>
                <div class="form-group">
                    <label For="lastName">Last Name</label>
                    <input type="text" id="lastName" th:field="*{lastName}">
                </div>
            </div>
            <div class="col">
                <div class="form-group">
                    <label For="dob">Date of Birth</label>
                    <input type="date" id="dob" th:field="*{dob}">
                </div>
                <div class="form-group">
                    <label For="heightInInches">Height in Inches</label>
                    <input type="number" id="heightInInches" th:field="*{heightInInches}">
                </div>
                <div class="form-group">
                    <button type="submit" class="btn btn-primary">
                        Submit
                    </button>
                    <a href="/agent" type="cancel" class="btn btn-warning">
                        Cancel
                    </a>
                </div>
            </div>
        </div>
        <div th:errors="${agent.*}"></div>
    </form>

    <table class="table table-striped table-hover">
        <thead>
        <tr>
            <th>First Name</th>
            <th>Middle Name</th>
            <th>Last Name</th>
            <th>Date of Birth</th>
            <th>Height in Inches</th>
            <th>Actions</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="agent : ${agents}">
            <td th:text="${agent.firstName}"></td>
            <td th:text="${agent.middleName}"></td>
            <td th:text="${agent.lastName}"></td>
            <td th:text="${agent.dob}"></td>
            <td th:text="${agent.heightInInches}"></td>
            <td>
                <a th:href="@{/agent/edit/{agentId}(agentId=${agent.agentId})}" class="btn btn-info">Edit</a>
                <a th:href="@{/agent/delete/{agentId}(agentId=${agent.agentId})}" class="btn btn-danger">Delete</a>
            </td>
        </tr>
        </tbody>
    </table>
</body>
</html>